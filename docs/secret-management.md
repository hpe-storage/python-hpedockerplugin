## Secrets Management

This section describes the steps that need to be taken in order to use secrets in encrypted format rather than plain text.

### Using encryption_utility.py

To encrypt the password use encryption_utility.py. User need to wget the encryption_utility.py

#### Pre-requisite

- Below python packages should be installed on host machine to run the encryption utility
```
 py-etcd
 pycrypto 
````
- hpe.conf should be present in /etc/hpedockerplugin/ path with etcd details in it.
- etcd should be running
- 3PAR plugin should be disabled

#### Running the utility with -a option

In order to get the encrypted password user need to run the utility with -a option as below
````
#python encryption_utility.py -a <passphrase> <password>

Example: 

#python encryption_utility.py -a "@123#" "password"
SUCCESSFUL: Encrypted password: +CB1E8Je1j8=

````
#### Add the encrypted password in /etc/hpedockerplugin/hpe.conf

Use the encrypted password generated by utility as hpe3par_password in hpe.conf 

enable the plugin now

#### Running the utility with -d option
If user wants to remove the current encrypted password and replace it with plain text or new encrypted password,
user need to delete the current password by using -d option in the utility.

````
# python encryption_utility.py -d
Key Successfully deleted
````

